{"ast":null,"code":"import React from \"react\";\nexport var discoveryFilms = function discoveryFilms() {\n  return new Promise(function (resolve, reject) {\n    var url = \"https://api.themoviedb.org/3/discover/movie?api_key=657047754a636ca6765f2bdce74a5c16&language=fr-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_watch_monetization_types=flatrate\";\n    fetch(url, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (response) {\n      if (response.ok) {\n        return response;\n      } else {\n        reject();\n        throw response;\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (responseData) {\n      resolve(responseData);\n    }).catch(function (error) {\n      return console.log(\"error\", error);\n    }).finally(function () {});\n  });\n};\nexport var FindFilm = function FindFilm(id) {\n  return new Promise(function (resolve, reject) {\n    var url = \"https://api.themoviedb.org/3/movie/\" + id + \"?api_key=657047754a636ca6765f2bdce74a5c16&language=fr-FR\";\n    fetch(url, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (response) {\n      if (response.ok) {\n        return response;\n      } else {\n        reject();\n        throw response;\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (responseData) {\n      resolve(responseData);\n    }).catch(function (error) {\n      return console.log(\"error\", error);\n    }).finally(function () {});\n  });\n};","map":{"version":3,"sources":["D:/Utilisateurs/Armand/Documents/Ynov/WebMobilePWA/Best-Movie/src/API/index.js"],"names":["React","discoveryFilms","Promise","resolve","reject","url","fetch","method","headers","Accept","then","response","ok","json","responseData","catch","error","console","log","finally","FindFilm","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAClC,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,QAAMC,GAAG,GACP,mNADF;AAGAC,IAAAA,KAAK,CAACD,GAAD,EAAM;AACTE,MAAAA,MAAM,EAAE,KADC;AAETC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AAEP,wBAAgB;AAFT;AAFA,KAAN,CAAL,CAOGC,IAPH,CAOQ,UAACC,QAAD,EAAc;AAElB,UAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,eAAOD,QAAP;AACD,OAFD,MAEO;AACLP,QAAAA,MAAM;AACN,cAAMO,QAAN;AACD;AACF,KAfH,EAiBGD,IAjBH,CAiBQ,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACE,IAAT,EAAd;AAAA,KAjBR,EAkBGH,IAlBH,CAkBQ,UAACI,YAAD,EAAkB;AACtBX,MAAAA,OAAO,CAACW,YAAD,CAAP;AACD,KApBH,EAqBGC,KArBH,CAqBS,UAACC,KAAD;AAAA,aAAWC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB,CAAX;AAAA,KArBT,EAsBGG,OAtBH,CAsBW,YAAM,CAAE,CAtBnB;AAuBD,GA3BM,CAAP;AA4BD,CA7BM;AAgCP,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,EAAD,EAAQ;AAC9B,SAAO,IAAInB,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,QAAMC,GAAG,GACP,wCACAgB,EADA,GAEA,0DAHF;AAKAf,IAAAA,KAAK,CAACD,GAAD,EAAM;AACTE,MAAAA,MAAM,EAAE,KADC;AAETC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AAEP,wBAAgB;AAFT;AAFA,KAAN,CAAL,CAOGC,IAPH,CAOQ,UAACC,QAAD,EAAc;AAElB,UAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,eAAOD,QAAP;AACD,OAFD,MAEO;AACLP,QAAAA,MAAM;AACN,cAAMO,QAAN;AACD;AACF,KAfH,EAiBGD,IAjBH,CAiBQ,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACE,IAAT,EAAd;AAAA,KAjBR,EAkBGH,IAlBH,CAkBQ,UAACI,YAAD,EAAkB;AACtBX,MAAAA,OAAO,CAACW,YAAD,CAAP;AACD,KApBH,EAqBGC,KArBH,CAqBS,UAACC,KAAD;AAAA,aAAWC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB,CAAX;AAAA,KArBT,EAsBGG,OAtBH,CAsBW,YAAM,CAAE,CAtBnB;AAuBD,GA7BM,CAAP;AA8BD,CA/BM","sourcesContent":["import React from \"react\";\r\n\r\n// Requête pour découvrir les films les plus populaires du moment\r\nexport const discoveryFilms = () => {\r\n  return new Promise((resolve, reject) => {\r\n    const url =\r\n      \"https://api.themoviedb.org/3/discover/movie?api_key=657047754a636ca6765f2bdce74a5c16&language=fr-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_watch_monetization_types=flatrate\";\r\n\r\n    fetch(url, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        //Si réponse OK on passe au then suivant sinon erreur\r\n        if (response.ok) {\r\n          return response;\r\n        } else {\r\n          reject();\r\n          throw response;\r\n        }\r\n      })\r\n      //Parse les données recues\r\n      .then((response) => response.json())\r\n      .then((responseData) => {\r\n        resolve(responseData);\r\n      })\r\n      .catch((error) => console.log(\"error\", error))\r\n      .finally(() => {});\r\n  });\r\n};\r\n\r\n//Effectue une requête pour trouver le film avec un ID en paramêtre\r\nexport const FindFilm = (id) => {\r\n  return new Promise((resolve, reject) => {\r\n    const url =\r\n      \"https://api.themoviedb.org/3/movie/\" +\r\n      id +\r\n      \"?api_key=657047754a636ca6765f2bdce74a5c16&language=fr-FR\";\r\n\r\n    fetch(url, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        //Si réponse OK on passe au then suivant sinon erreur\r\n        if (response.ok) {\r\n          return response;\r\n        } else {\r\n          reject();\r\n          throw response;\r\n        }\r\n      })\r\n      //Parse les données recues\r\n      .then((response) => response.json())\r\n      .then((responseData) => {\r\n        resolve(responseData);\r\n      })\r\n      .catch((error) => console.log(\"error\", error))\r\n      .finally(() => {});\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}