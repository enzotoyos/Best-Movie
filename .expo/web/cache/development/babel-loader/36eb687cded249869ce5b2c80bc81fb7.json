{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport firebase from \"firebase\";\nimport \"firebase/firestore\";\nimport Toast from 'react-native-toast-message';\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nexport function AddUserFirestore(email, name, uid) {\n  var db;\n  return _regeneratorRuntime.async(function AddUserFirestore$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          db = firebase.firestore();\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"currentPage\", String(\"1\")));\n\n        case 4:\n          db.collection(\"users\").doc(uid).set({\n            email: email,\n            Name: name,\n            CreatedAt: Date.now(),\n            Status: \"Active\",\n            ModifiedAt: Date.now(),\n            currentPage: 1\n          });\n          db.collection(\"liked_films\").doc(uid).set({\n            movie: []\n          });\n          db.collection(\"unliked_films\").doc(uid).set({\n            movie: []\n          });\n          _context.next = 12;\n          break;\n\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(_context.t0.message);\n\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 9]], Promise);\n}\nexport function getLikedFilms(uid) {\n  return _regeneratorRuntime.async(function getLikedFilms$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          return _context2.abrupt(\"return\", new Promise(function (resolve, reject) {\n            var db = firebase.firestore();\n            var docRef = db.collection(\"liked_films\").doc(uid);\n            docRef.get().then(function (doc) {\n              if (doc.exists) {\n                resolve(doc.data());\n              } else {\n                console.log(\"No such document!\");\n              }\n            }).catch(function (error) {\n              console.log(\"Error getting document:\", error);\n              reject();\n            });\n          }));\n\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nexport var pushFilmsOnFirestore = function pushFilmsOnFirestore(userID, likedOrNo, movieID, posterURL, movieTitle) {\n  var db, docData, data, _data;\n\n  return _regeneratorRuntime.async(function pushFilmsOnFirestore$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          db = firebase.firestore();\n          docData = {\n            movieTitle: movieTitle,\n            movieID: movieID,\n            addedAt: Date.now(),\n            posterPath: posterURL\n          };\n\n          if (likedOrNo == true) {\n            data = db.collection(\"liked_films\").doc(userID);\n            data.update({\n              movie: firebase.firestore.FieldValue.arrayUnion(docData)\n            });\n          } else if (likedOrNo == false) {\n            _data = db.collection(\"unliked_films\").doc(userID);\n\n            _data.update({\n              movie: firebase.firestore.FieldValue.arrayUnion(docData)\n            });\n          }\n\n        case 3:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var SendEmailVerification = function SendEmailVerification() {\n  return _regeneratorRuntime.async(function SendEmailVerification$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return _regeneratorRuntime.awrap(firebase.auth().currentUser.sendEmailVerification().then(function () {\n            Toast.show({\n              type: 'info',\n              text1: 'Email de vérification envoyé'\n            });\n          }));\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var createUserWithEmailAndPassword = function createUserWithEmailAndPassword(email, pseudo, password) {\n  return _regeneratorRuntime.async(function createUserWithEmailAndPassword$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return _regeneratorRuntime.awrap(firebase.auth().createUserWithEmailAndPassword(email, password).then(function (userCredential) {\n            var user = userCredential.user;\n            var userID = user.uid;\n            AddUserFirestore(email, pseudo, userID);\n\n            if (user.emailVerified == false) {\n              SendEmailVerification();\n            }\n          }).catch(function (error) {\n            var errorCode = error.code;\n            Toast.show({\n              type: 'error',\n              text1: 'Une erreur est survenue durant la création',\n              text2: error.message\n            });\n          }));\n\n        case 2:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var sendPasswordResetEmail = function sendPasswordResetEmail(email) {\n  return _regeneratorRuntime.async(function sendPasswordResetEmail$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return _regeneratorRuntime.awrap(firebase.auth().sendPasswordResetEmail(email).then(function () {\n            Toast.show({\n              type: 'success',\n              text1: 'Votre mot de passe à été réinitialisé',\n              text2: 'Vous allez recevoir voir un Email.'\n            });\n          }).catch(function (error) {\n            setLoading(false);\n            Toast.show({\n              type: 'error',\n              text1: \"Votre Email n'est pas enregistré\"\n            });\n          }));\n\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var signInWithEmailAndPassword = function signInWithEmailAndPassword(email, password) {\n  return _regeneratorRuntime.async(function signInWithEmailAndPassword$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return _regeneratorRuntime.awrap(firebase.auth().signInWithEmailAndPassword(email, password).then(function (userCredential) {\n            var user = userCredential.user;\n            AsyncStorage.setItem(\"uid\", String(user.uid));\n\n            if (user.emailVerified == false) {\n              Toast.show({\n                type: 'info',\n                text1: 'Vous devez vérifier votre Email pour vous connecter'\n              });\n            } else {\n              Toast.show({\n                type: 'success',\n                text1: 'Vous êtes connecté'\n              });\n            }\n          }).catch(function (error) {\n            var errorCode = error.code;\n            Toast.show({\n              type: 'error',\n              text1: 'Adresse mail ou mot de passe incorrect',\n              text2: error.message\n            });\n          }));\n\n        case 2:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var deleteMovie = function deleteMovie(movie) {\n  var uid, db, docRef;\n  return _regeneratorRuntime.async(function deleteMovie$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"uid\"));\n\n        case 2:\n          uid = _context8.sent;\n          db = firebase.firestore();\n          docRef = db.collection(\"liked_films\").doc(uid);\n          _context8.next = 7;\n          return _regeneratorRuntime.awrap(docRef.update({\n            movie: firebase.firestore.FieldValue.arrayRemove(movie)\n          }).then(function () {\n            Toast.show({\n              type: 'success',\n              text1: 'Le film a été retiré de votre liste',\n              text2: 'Titre : ' + movie.movieTitle\n            });\n          }).catch(function (error) {\n            Toast.show({\n              type: 'error',\n              text1: 'Une erreur est survenue durant la suppression',\n              text2: error.message\n            });\n          }));\n\n        case 7:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};","map":{"version":3,"sources":["/Users/enzotoyos/Desktop/Best-Movie/src/screens/utils/controllerFirestore.js"],"names":["firebase","Toast","AsyncStorage","AddUserFirestore","email","name","uid","db","firestore","setItem","String","collection","doc","set","Name","CreatedAt","Date","now","Status","ModifiedAt","currentPage","movie","console","log","message","getLikedFilms","Promise","resolve","reject","docRef","get","then","exists","data","catch","error","pushFilmsOnFirestore","userID","likedOrNo","movieID","posterURL","movieTitle","docData","addedAt","posterPath","update","FieldValue","arrayUnion","SendEmailVerification","auth","currentUser","sendEmailVerification","show","type","text1","createUserWithEmailAndPassword","pseudo","password","userCredential","user","emailVerified","errorCode","code","text2","sendPasswordResetEmail","setLoading","signInWithEmailAndPassword","deleteMovie","getItem","arrayRemove"],"mappings":"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","sourcesContent":["import firebase from \"firebase\";\nimport \"firebase/firestore\";\nimport Toast from 'react-native-toast-message';\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nexport async function AddUserFirestore(email, name, uid) {\n  try {\n    const db = firebase.firestore();\n    await AsyncStorage.setItem(\"currentPage\", String(\"1\"));\n    db.collection(\"users\").doc(uid).set({\n      email: email,\n      Name: name,\n      CreatedAt: Date.now(),\n      Status: \"Active\",\n      ModifiedAt: Date.now(),\n      currentPage: 1\n    });\n    db.collection(\"liked_films\").doc(uid).set({ movie: [] });\n    db.collection(\"unliked_films\").doc(uid).set({ movie: [] });\n  } catch (err) {\n    console.log(err.message);\n  }\n}\n\nexport async function getLikedFilms(uid) {\n  return new Promise((resolve, reject) => {\n    const db = firebase.firestore();\n    var docRef = db.collection(\"liked_films\").doc(uid);\n\n    docRef.get().then((doc) => {\n      if (doc.exists) {\n        resolve(doc.data());\n      } else {\n        console.log(\"No such document!\");\n      }\n    }).catch((error) => {\n      console.log(\"Error getting document:\", error);\n      reject();\n    });\n  });\n}\n\nexport const pushFilmsOnFirestore = async (\n  userID,\n  likedOrNo,\n  movieID,\n  posterURL,\n  movieTitle\n) => {\n  const db = firebase.firestore();\n  var docData = {\n    movieTitle: movieTitle,\n    movieID: movieID,\n    addedAt: Date.now(),\n    posterPath: posterURL,\n  };\n\n  if (likedOrNo == true) {\n    let data = db.collection(\"liked_films\").doc(userID);\n\n    data.update({ movie: firebase.firestore.FieldValue.arrayUnion(docData) });\n  } else if (likedOrNo == false) {\n    let data = db.collection(\"unliked_films\").doc(userID);\n\n    data.update({ movie: firebase.firestore.FieldValue.arrayUnion(docData) });\n  }\n};\n\nexport const SendEmailVerification = async () => {\n  await firebase.auth().currentUser.sendEmailVerification().then(() => {\n    Toast.show({\n      type: 'info',\n      text1: 'Email de vérification envoyé'\n    });\n  });\n}\n\nexport const createUserWithEmailAndPassword = async (email, pseudo, password) => {\n  await firebase.auth().createUserWithEmailAndPassword(email, password).then((userCredential) => {\n    const user = userCredential.user;\n    const userID = user.uid;\n    AddUserFirestore(email, pseudo, userID);\n    if (user.emailVerified == false) {\n      SendEmailVerification();\n    }\n  }).catch(function (error) {\n    // Handle Errors here.\n    var errorCode = error.code;\n    Toast.show({\n      type: 'error',\n      text1: 'Une erreur est survenue durant la création',\n      text2: error.message\n    });\n  });\n}\n\nexport const sendPasswordResetEmail = async (email) => {\n  await firebase.auth().sendPasswordResetEmail(email)\n    .then(function () {\n      Toast.show({\n        type: 'success',\n        text1: 'Votre mot de passe à été réinitialisé',\n        text2: 'Vous allez recevoir voir un Email.'\n      });\n    })\n    .catch(function (error) {\n      setLoading(false);\n      Toast.show({\n        type: 'error',\n        text1: \"Votre Email n'est pas enregistré\"\n      });\n    });\n}\n\nexport const signInWithEmailAndPassword = async (email, password) => {\n  await firebase.auth().signInWithEmailAndPassword(email, password).then((userCredential) => {\n    const user = userCredential.user;\n    AsyncStorage.setItem(\"uid\", String(user.uid));\n\n    if (user.emailVerified == false) {\n      Toast.show({\n        type: 'info',\n        text1: 'Vous devez vérifier votre Email pour vous connecter'\n      });\n    } else {\n      Toast.show({\n        type: 'success',\n        text1: 'Vous êtes connecté'\n      });\n    }\n  }).catch(function (error) {\n    var errorCode = error.code;\n    Toast.show({\n      type: 'error',\n      text1: 'Adresse mail ou mot de passe incorrect',\n      text2: error.message\n    });\n  });\n}\n\nexport const deleteMovie = async (movie) => {\n  const uid = await AsyncStorage.getItem(\"uid\");\n  const db = firebase.firestore();\n  var docRef = db.collection(\"liked_films\").doc(uid);\n  await docRef.update({ movie: firebase.firestore.FieldValue.arrayRemove(movie) }).then(() => {\n    Toast.show({\n      type: 'success',\n      text1: 'Le film a été retiré de votre liste',\n      text2: 'Titre : ' + movie.movieTitle\n    });\n  }).catch((error) => {\n    Toast.show({\n      type: 'error',\n      text1: 'Une erreur est survenue durant la suppression',\n      text2: error.message\n    });\n  });\n}"]},"metadata":{},"sourceType":"module"}