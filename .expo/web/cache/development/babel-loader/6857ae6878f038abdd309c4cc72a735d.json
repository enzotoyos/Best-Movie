{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Documents\\\\Ynov\\\\Mobile\\\\Best-Movie\\\\src\\\\screens\\\\About.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport { Layout, Text, themeColor, useTheme } from \"react-native-rapi-ui\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { discoveryFilms } from \"../API/index\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport firebase from \"firebase/app\";\nimport * as WebBrowser from 'expo-web-browser';\nimport { getLikedFilms } from \"./utils/controllerFirestore\";\nimport { Card, CardTitle, CardContent, CardAction, CardButton, CardImage } from \"react-native-cards\";\nimport \"firebase/firestore\";\nimport color from \"color\";\nexport default function (_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useTheme = useTheme(),\n      isDarkmode = _useTheme.isDarkmode,\n      setTheme = _useTheme.setTheme;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      likedFilms = _useState2[0],\n      setLikedFilms = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      result = _useState4[0],\n      setResult = _useState4[1];\n\n  var initializeTheme = function initializeTheme() {\n    var value;\n    return _regeneratorRuntime.async(function initializeTheme$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('theme'));\n\n          case 3:\n            value = _context.sent;\n\n            if (value !== null && value !== undefined) {\n              value === 'true' ? setTheme(\"light\") : setTheme(\"dark\");\n            } else {\n              AsyncStorage.setItem(\"theme\", String(isDarkmode));\n            }\n\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  useEffect(function () {\n    initializeTheme();\n  }, []);\n\n  var deleteMovie = function deleteMovie(movie) {\n    var index;\n    return _regeneratorRuntime.async(function deleteMovie$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log(movie);\n            console.log(\"-------------------------------------\");\n            index = 0;\n            likedFilms.forEach(function (element, i) {\n              if (element.movieID === movie.movieID) {\n                console.log(\"same : \", element);\n                index = i;\n              }\n            });\n            deleteMovie(index);\n            console.log(index);\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var openMovieOnBrowser = function openMovieOnBrowser(movie) {\n    var result;\n    return _regeneratorRuntime.async(function openMovieOnBrowser$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(WebBrowser.openBrowserAsync('https://www.themoviedb.org/movie/' + movie.movieID));\n\n          case 2:\n            result = _context3.sent;\n            setResult(result);\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var onShare = function onShare(movie) {\n    var _result;\n\n    return _regeneratorRuntime.async(function onShare$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return _regeneratorRuntime.awrap(Share.share({\n              message: \"Tu devrais regarder ce film ! \",\n              url: \"https://image.tmdb.org/t/p/w500/\" + movie.posterPath,\n              title: movie.movieTitle\n            }));\n\n          case 3:\n            _result = _context4.sent;\n\n            if (_result.action === Share.sharedAction) {\n              if (_result.activityType) {} else {}\n            } else if (_result.action === Share.dismissedAction) {}\n\n            _context4.next = 10;\n            break;\n\n          case 7:\n            _context4.prev = 7;\n            _context4.t0 = _context4[\"catch\"](0);\n            alert(_context4.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var getFilmsLiked = function getFilmsLiked() {\n    var user, collection;\n    return _regeneratorRuntime.async(function getFilmsLiked$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            user = firebase.auth().currentUser;\n            _context5.next = 3;\n            return _regeneratorRuntime.awrap(getLikedFilms(user.uid));\n\n          case 3:\n            collection = _context5.sent;\n            setLikedFilms(collection.movie);\n\n          case 5:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    getFilmsLiked();\n  }, []);\n\n  var RenderCard = function RenderCard(_ref2) {\n    var item = _ref2.item,\n        i = _ref2.i;\n    return React.createElement(Card, {\n      style: {\n        borderRadius: 7,\n        marginLeft: 15,\n        marginRight: 15\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 5\n      }\n    }, React.createElement(CardImage, {\n      source: {\n        uri: \"https://image.tmdb.org/t/p/w500/\" + item.posterPath\n      },\n      title: item.movieTitle,\n      style: {\n        borderRadius: 7\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }), React.createElement(CardTitle, {\n      subtitle: \"Ajouté le: \" + item.addedAt,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }\n    }), React.createElement(CardAction, {\n      separator: true,\n      inColumn: false,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }\n    }, React.createElement(CardButton, {\n      onPress: function onPress() {\n        return onShare(item);\n      },\n      title: \"Partager\",\n      color: \"#FEB557\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }), React.createElement(CardButton, {\n      onPress: function onPress() {\n        openMovieOnBrowser(item);\n      },\n      title: \"Explorer\",\n      color: \"#FEB557\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }\n    }), React.createElement(CardButton, {\n      onPress: function onPress() {\n        deleteMovie(item);\n      },\n      title: \"Delete\",\n      color: \"#FEB557\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }\n    })));\n  };\n\n  return React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, \"Votre collection\")), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: likedFilms,\n    renderItem: RenderCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"transparent\"\n  },\n  card: {\n    flex: 1,\n    borderRadius: 20,\n    borderWidth: 2,\n    backgroundColor: \"transparent\",\n    borderColor: \"transparent\",\n    justifyContent: \"center\",\n    marginBottom: \"50%\"\n  },\n  text: {\n    textAlign: \"center\",\n    fontSize: 50,\n    backgroundColor: \"transparent\"\n  },\n  image: {\n    borderRadius: 18,\n    width: \"100%\",\n    height: \"100%\"\n  },\n  title: {\n    textAlign: \"center\",\n    fontSize: 20,\n    marginTop: \"5%\",\n    marginBottom: \"2%\"\n  }\n});","map":{"version":3,"sources":["D:/Documents/Ynov/Mobile/Best-Movie/src/screens/About.js"],"names":["React","useEffect","useState","Layout","Text","themeColor","useTheme","AsyncStorage","discoveryFilms","firebase","WebBrowser","getLikedFilms","Card","CardTitle","CardContent","CardAction","CardButton","CardImage","color","navigation","isDarkmode","setTheme","likedFilms","setLikedFilms","result","setResult","initializeTheme","getItem","value","undefined","setItem","String","console","log","deleteMovie","movie","index","forEach","element","i","movieID","openMovieOnBrowser","openBrowserAsync","onShare","Share","share","message","url","posterPath","title","movieTitle","action","sharedAction","activityType","dismissedAction","alert","getFilmsLiked","user","auth","currentUser","uid","collection","RenderCard","item","borderRadius","marginLeft","marginRight","uri","addedAt","styles","StyleSheet","create","container","flex","backgroundColor","card","borderWidth","borderColor","justifyContent","marginBottom","text","textAlign","fontSize","image","width","height","marginTop"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;;;AAOA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,UAAvB,EAAmCC,QAAnC,QAAmD,sBAAnD;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AACA,SAASC,cAAT;;AAEA,OAAOC,QAAP,MAAqB,cAArB;AACA,OAAO,KAAKC,UAAZ,MAA4B,kBAA5B;AACA,SAASC,aAAT;AACA,SACEC,IADF,EAEEC,SAFF,EAGEC,WAHF,EAIEC,UAJF,EAKEC,UALF,EAMEC,SANF,QAOO,oBAPP;AAQA,OAAO,oBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,gBAA0B;AAAA;;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AACvC,kBAAiCb,QAAQ,EAAzC;AAAA,MAAQc,UAAR,aAAQA,UAAR;AAAA,MAAoBC,QAApB,aAAoBA,QAApB;;AACA,kBAAoCnB,QAAQ,CAAC,EAAD,CAA5C;AAAA;AAAA,MAAOoB,UAAP;AAAA,MAAmBC,aAAnB;;AACA,mBAA4BrB,QAAQ,CAAC,IAAD,CAApC;AAAA;AAAA,MAAOsB,MAAP;AAAA,MAAeC,SAAf;;AAEA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEAnB,YAAY,CAACoB,OAAb,CAAqB,OAArB,CAFA;;AAAA;AAEdC,YAAAA,KAFc;;AAGpB,gBAAIA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKC,SAAhC,EAA2C;AACxCD,cAAAA,KAAK,KAAK,MAAX,GAAqBP,QAAQ,CAAC,OAAD,CAA7B,GAAyCA,QAAQ,CAAC,MAAD,CAAjD;AACD,aAFD,MAEO;AACLd,cAAAA,YAAY,CAACuB,OAAb,CAAqB,OAArB,EAA8BC,MAAM,CAACX,UAAD,CAApC;AACD;;AAPmB;AAAA;;AAAA;AAAA;AAAA;AASpBY,YAAAA,OAAO,CAACC,GAAR;;AAToB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAaAhC,EAAAA,SAAS,CAAC,YAAM;AACdyB,IAAAA,eAAe;AAChB,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAMQ,WAAW,GAAG,SAAdA,WAAc,CAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAClBH,YAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACAH,YAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ;AACIG,YAAAA,KAHc,GAGN,CAHM;AAIlBd,YAAAA,UAAU,CAACe,OAAX,CAAmB,UAACC,OAAD,EAAUC,CAAV,EAAgB;AACjC,kBAAID,OAAO,CAACE,OAAR,KAAoBL,KAAK,CAACK,OAA9B,EAAuC;AACrCR,gBAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBK,OAAvB;AACAF,gBAAAA,KAAK,GAAGG,CAAR;AACD;AACF,aALD;AAOAL,YAAAA,WAAW,CAACE,KAAD,CAAX;AAEAJ,YAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;;AAbkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApB;;AAiBA,MAAMK,kBAAkB,GAAG,SAArBA,kBAAqB,CAAON,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACNzB,UAAU,CAACgC,gBAAX,CAA4B,sCAAsCP,KAAK,CAACK,OAAxE,CADM;;AAAA;AACrBhB,YAAAA,MADqB;AAEzBC,YAAAA,SAAS,CAACD,MAAD,CAAT;;AAFyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA3B;;AAKA,MAAMmB,OAAO,GAAG,SAAVA,OAAU,CAAOR,KAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAESS,KAAK,CAACC,KAAN,CAAY;AAC/BC,cAAAA,OAAO,EAAE,gCADsB;AAE/BC,cAAAA,GAAG,EAAE,qCAAqCZ,KAAK,CAACa,UAFjB;AAG/BC,cAAAA,KAAK,EAAEd,KAAK,CAACe;AAHkB,aAAZ,CAFT;;AAAA;AAEN1B,YAAAA,OAFM;;AAOZ,gBAAIA,OAAM,CAAC2B,MAAP,KAAkBP,KAAK,CAACQ,YAA5B,EAA0C;AACxC,kBAAI5B,OAAM,CAAC6B,YAAX,EAAyB,CAExB,CAFD,MAEO,CAEN;AACF,aAND,MAMO,IAAI7B,OAAM,CAAC2B,MAAP,KAAkBP,KAAK,CAACU,eAA5B,EAA6C,CAEnD;;AAfW;AAAA;;AAAA;AAAA;AAAA;AAiBZC,YAAAA,KAAK,CAAC,aAAMT,OAAP,CAAL;;AAjBY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhB;;AAqBA,MAAMU,aAAa,GAAG,SAAhBA,aAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AACdC,YAAAA,IADc,GACPhD,QAAQ,CAACiD,IAAT,GAAgBC,WADT;AAAA;AAAA,6CAEKhD,aAAa,CAAC8C,IAAI,CAACG,GAAN,CAFlB;;AAAA;AAEdC,YAAAA,UAFc;AAGpBtC,YAAAA,aAAa,CAACsC,UAAU,CAAC1B,KAAZ,CAAb;;AAHoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAMAlC,EAAAA,SAAS,CAAC,YAAM;AACduD,IAAAA,aAAa;AACd,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAMM,UAAU,GAAG,SAAbA,UAAa;AAAA,QAAGC,IAAH,SAAGA,IAAH;AAAA,QAASxB,CAAT,SAASA,CAAT;AAAA,WACjB,oBAAC,IAAD;AACE,MAAA,KAAK,EAAE;AACLyB,QAAAA,YAAY,EAAE,CADT;AAELC,QAAAA,UAAU,EAAE,EAFP;AAGLC,QAAAA,WAAW,EAAE;AAHR,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE,oBAAC,SAAD;AACE,MAAA,MAAM,EAAE;AACNC,QAAAA,GAAG,EAAE,qCAAqCJ,IAAI,CAACf;AADzC,OADV;AAIE,MAAA,KAAK,EAAEe,IAAI,CAACb,UAJd;AAKE,MAAA,KAAK,EAAE;AAAEc,QAAAA,YAAY,EAAE;AAAhB,OALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,EAcE,oBAAC,SAAD;AAAW,MAAA,QAAQ,EAAE,gBAAgBD,IAAI,CAACK,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,EAeE,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAE,IAAvB;AAA6B,MAAA,QAAQ,EAAE,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AACE,MAAA,OAAO,EAAE;AAAA,eAAMzB,OAAO,CAACoB,IAAD,CAAb;AAAA,OADX;AAEE,MAAA,KAAK,EAAC,UAFR;AAGE,MAAA,KAAK,EAAC,SAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAE,mBAAM;AACzBtB,QAAAA,kBAAkB,CAACsB,IAAD,CAAlB;AACD,OAFD;AAEG,MAAA,KAAK,EAAC,UAFT;AAEoB,MAAA,KAAK,EAAC,SAF1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,EASE,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAE,mBAAM;AACzB7B,QAAAA,WAAW,CAAC6B,IAAD,CAAX;AACD,OAFD;AAEG,MAAA,KAAK,EAAC,QAFT;AAEkB,MAAA,KAAK,EAAC,SAFxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CAfF,CADiB;AAAA,GAAnB;;AAgCA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEM,MAAM,CAACpB,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF,EAIE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAE3B,UAAhB;AAA4B,IAAA,UAAU,EAAEwC,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAJF,CADF;AAYD;AAED,IAAMO,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;AAC/BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAE,CADG;AAETC,IAAAA,eAAe,EAAE;AAFR,GADoB;AAK/BC,EAAAA,IAAI,EAAE;AACJF,IAAAA,IAAI,EAAE,CADF;AAEJT,IAAAA,YAAY,EAAE,EAFV;AAGJY,IAAAA,WAAW,EAAE,CAHT;AAIJF,IAAAA,eAAe,EAAE,aAJb;AAKJG,IAAAA,WAAW,EAAE,aALT;AAMJC,IAAAA,cAAc,EAAE,QANZ;AAOJC,IAAAA,YAAY,EAAE;AAPV,GALyB;AAc/BC,EAAAA,IAAI,EAAE;AACJC,IAAAA,SAAS,EAAE,QADP;AAEJC,IAAAA,QAAQ,EAAE,EAFN;AAGJR,IAAAA,eAAe,EAAE;AAHb,GAdyB;AAmB/BS,EAAAA,KAAK,EAAE;AACLnB,IAAAA,YAAY,EAAE,EADT;AAELoB,IAAAA,KAAK,EAAE,MAFF;AAGLC,IAAAA,MAAM,EAAE;AAHH,GAnBwB;AAwB/BpC,EAAAA,KAAK,EAAE;AACLgC,IAAAA,SAAS,EAAE,QADN;AAELC,IAAAA,QAAQ,EAAE,EAFL;AAGLI,IAAAA,SAAS,EAAE,IAHN;AAILP,IAAAA,YAAY,EAAE;AAJT;AAxBwB,CAAlB,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  View,\n  StyleSheet,\n  FlatList,\n  Share,\n} from \"react-native\";\nimport { Layout, Text, themeColor, useTheme } from \"react-native-rapi-ui\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { discoveryFilms } from \"../API/index\";\nimport { ScrollView } from \"react-native\";\nimport firebase from \"firebase/app\";\nimport * as WebBrowser from 'expo-web-browser';\nimport { getLikedFilms } from \"./utils/controllerFirestore\";\nimport {\n  Card,\n  CardTitle,\n  CardContent,\n  CardAction,\n  CardButton,\n  CardImage,\n} from \"react-native-cards\";\nimport \"firebase/firestore\";\nimport color from \"color\";\n\nexport default function ({ navigation }) {\n  const { isDarkmode, setTheme } = useTheme();\n  const [likedFilms, setLikedFilms] = useState([]);\n  const [result, setResult] = useState(null);\n\n  const initializeTheme = async () => {\n    try {\n      const value = await AsyncStorage.getItem('theme');\n      if (value !== null && value !== undefined) {\n        (value === 'true') ? setTheme(\"light\") : setTheme(\"dark\");\n      } else {\n        AsyncStorage.setItem(\"theme\", String(isDarkmode));\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  useEffect(() => {\n    initializeTheme();\n  }, []);\n\n  const deleteMovie = async (movie) => {\n    console.log(movie);\n    console.log(\"-------------------------------------\");\n    let index = 0;\n    likedFilms.forEach((element, i) => {\n      if (element.movieID === movie.movieID) {\n        console.log(\"same : \", element);\n        index = i;\n      }\n    });\n    // setLikedFilms();\n    deleteMovie(index);\n    // console.log(likedFilms.slice(index));\n    console.log(index);\n    // console.log(likedFilms);\n  };\n\n  const openMovieOnBrowser = async (movie) => {\n    let result = await WebBrowser.openBrowserAsync('https://www.themoviedb.org/movie/' + movie.movieID);\n    setResult(result);\n  };\n\n  const onShare = async (movie) => {\n    try {\n      const result = await Share.share({\n        message: \"Tu devrais regarder ce film ! \",\n        url: \"https://image.tmdb.org/t/p/w500/\" + movie.posterPath,\n        title: movie.movieTitle,\n      });\n      if (result.action === Share.sharedAction) {\n        if (result.activityType) {\n          // shared with activity type of result.activityType\n        } else {\n          // shared\n        }\n      } else if (result.action === Share.dismissedAction) {\n        // dismissed\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  const getFilmsLiked = async () => {\n    const user = firebase.auth().currentUser;\n    const collection = await getLikedFilms(user.uid);\n    setLikedFilms(collection.movie);\n  };\n\n  useEffect(() => {\n    getFilmsLiked();\n  }, []);\n\n  const RenderCard = ({ item, i }) => (\n    <Card\n      style={{\n        borderRadius: 7,\n        marginLeft: 15,\n        marginRight: 15,\n      }}\n    >\n      <CardImage\n        source={{\n          uri: \"https://image.tmdb.org/t/p/w500/\" + item.posterPath,\n        }}\n        title={item.movieTitle}\n        style={{ borderRadius: 7 }}\n      />\n      <CardTitle subtitle={\"Ajouté le: \" + item.addedAt} />\n      <CardAction separator={true} inColumn={false}>\n        <CardButton\n          onPress={() => onShare(item)}\n          title=\"Partager\"\n          color=\"#FEB557\"\n        />\n        <CardButton onPress={() => {\n          openMovieOnBrowser(item);\n        }} title=\"Explorer\" color=\"#FEB557\" />\n        <CardButton onPress={() => {\n          deleteMovie(item);\n        }} title=\"Delete\" color=\"#FEB557\" />\n      </CardAction>\n    </Card>\n  );\n\n  return (\n    <Layout>\n      <View>\n        <Text style={styles.title}>Votre collection</Text>\n      </View>\n      <View>\n        <ScrollView>\n          <FlatList data={likedFilms} renderItem={RenderCard}></FlatList>\n        </ScrollView>\n      </View>\n    </Layout>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"transparent\",\n  },\n  card: {\n    flex: 1,\n    borderRadius: 20,\n    borderWidth: 2,\n    backgroundColor: \"transparent\",\n    borderColor: \"transparent\",\n    justifyContent: \"center\",\n    marginBottom: \"50%\",\n  },\n  text: {\n    textAlign: \"center\",\n    fontSize: 50,\n    backgroundColor: \"transparent\",\n  },\n  image: {\n    borderRadius: 18,\n    width: \"100%\",\n    height: \"100%\",\n  },\n  title: {\n    textAlign: \"center\",\n    fontSize: 20,\n    marginTop: \"5%\",\n    marginBottom: \"2%\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}